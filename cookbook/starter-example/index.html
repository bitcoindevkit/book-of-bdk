
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Book of BDK">
      
      
      
      
        <link rel="prev" href="../../getting-started/more/">
      
      
        <link rel="next" href="../syncing/electrum/">
      
      
        
      
      
      <link rel="icon" href="../../assets/bdk-logo.svg">
      <meta name="generator" content="zensical-0.0.15">
    
    
      
        <title>Simple Starter Example - Book of BDK</title>
      
    
    
      
        
      
      <link rel="stylesheet" href="../../assets/stylesheets/modern/main.f1b6466b.min.css">
      
        
          
        
        <link rel="stylesheet" href="../../assets/stylesheets/modern/palette.dfe2e883.min.css">
      
      
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
  
  <style>:root{}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,500,500i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0),__md_get=(e,t=localStorage,a=__md_scope)=>JSON.parse(t.getItem(a.pathname+"."+e)),__md_set=(e,t,a=localStorage,_=__md_scope)=>{try{a.setItem(_.pathname+"."+e,JSON.stringify(t))}catch(e){}},document.documentElement.setAttribute("data-platform",navigator.platform)</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#simple-starter-example" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Book of BDK" class="md-header__button md-logo" aria-label="Book of BDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-book-open" viewBox="0 0 24 24"><path d="M12 7v14M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-menu" viewBox="0 0 24 24"><path d="M4 5h16M4 12h16M4 19h16"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Book of BDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Simple Starter Example
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-moon" viewBox="0 0 24 24"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-search" viewBox="0 0 24 24"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog" aria-label="Search">
  <button type="button" class="md-search__button">
    Search
  </button>
</div>
      
    
    <div class="md-header__source">
      
    </div>
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/about/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  Cookbook

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../release-guide/guide/" class="md-tabs__link">
          
  
  Release Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../design/cbf/" class="md-tabs__link">
          
  
  Design

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Book of BDK" class="md-nav__button md-logo" aria-label="Book of BDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-book-open" viewBox="0 0 24 24"><path d="M12 7v14M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"/></svg>

    </a>
    Book of BDK
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/why-book/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Who Is This Book For?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/organization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project Organization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/api-documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/bdk-cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The BDK Command Line Wallet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/migrating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrating from 0.X
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/3rd-party-bindings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3rd Party Bindings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/more/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    More Places to Find BDK Content
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Cookbook
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cookbook
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Simple Starter Example
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Simple Starter Example
  

    
  </span>
  
  

      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diving-in" class="md-nav__link">
    <span class="md-ellipsis">
      
        Diving in!
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-new-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create a new project
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-required-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Add required dependencies
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-descriptors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use descriptors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-or-load-a-wallet" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create or load a wallet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sync-the-wallet" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sync the wallet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Test 1
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Test 2
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#send-a-transaction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Send a transaction
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Syncing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Syncing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syncing/electrum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync a Wallet with Electrum
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syncing/esplora/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync a Wallet with Esplora
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syncing/kyoto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync a wallet with Kyoto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syncing/rpc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync a Wallet with Bitcoin Core RPC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syncing/full-scan-vs-sync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Full Scan vs Sync
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Persistence
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Persistence
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistence/sqlite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQLite Database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistence/memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    In-Memory Wallet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Keys and Descriptors
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Keys and Descriptors
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../keys-descriptors/descriptors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating Keys and Descriptors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../keys-descriptors/recovery-phrases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generate Descriptors from Recovery Phrases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Transactions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Transactions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transactions/transaction-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transaction Builder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wasm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WASM Example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Release Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Release Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-guide/guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Release 2.3
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Release 2.3
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-guide/2.3/notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-guide/2.3/wallet-events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Wallet Events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Release 2.2
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Release 2.2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-guide/2.2/notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-guide/2.2/wallet-events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Wallet Events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Release 2.1
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Release 2.1
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-guide/2.1/notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-guide/2.1/multipath/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Support for Multipath Descriptors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-guide/2.1/txbuilder-exclude/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exclude Inputs When Building Transactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Design
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Design
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../design/cbf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Compact Block Filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diving-in" class="md-nav__link">
    <span class="md-ellipsis">
      
        Diving in!
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-new-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create a new project
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-required-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Add required dependencies
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-descriptors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use descriptors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-or-load-a-wallet" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create or load a wallet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sync-the-wallet" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sync the wallet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Test 1
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Test 2
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#send-a-transaction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Send a transaction
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="./" class="md-path__link">
          
  <span class="md-ellipsis">
    Cookbook
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  

<h1 id="simple-starter-example">Simple Starter Example<a class="headerlink" href="#simple-starter-example" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>So you want to build a bitcoin wallet using BDK. Great! Here is the rough outline of what you need to do just that. A standard, simple example of a bitcoin wallet in BDK-land would require 3 core pillars:</p>
<p style="text-align: center;">
  <img src="../../assets/wallets.png" style="height: 300px;">
</p>

<ol>
<li><strong>The <code>bdk_wallet</code> library</strong>, which will provide two core types: the <code>Wallet</code> and the <code>TxBuilder</code>. This library will handle all the domain logic related to keeping track of which UTXOs you own, what your total balance is, creating and signing transactions, etc.</li>
<li><strong>A blockchain client</strong>. Your wallet will need to keep track of blockchain data, like new transactions that have been added to the blockchain that impact your wallet, requesting these transactions from a Bitcoin Core node, an Electrum or Esplora server, etc.</li>
<li><strong>A persistence mechanism</strong> for saving wallet data between sessions (note that this is not actually required). Things like which addresses the wallet has revealed and what is the state of the blockchain on its last sync are things that are kept in persistence and can be loaded on startup.</li>
</ol>
<h2 id="diving-in">Diving in!<a class="headerlink" href="#diving-in" title="Permanent link">&para;</a></h2>
<p>This page provides a starter example showcasing how BDK can be used to create, sync, and manage a wallet using an Esplora client as a blockchain data source. Familiarity with this example will help you work through the more advanced pages in this section.</p>
<p>You can find <a href="https://github.com/bitcoindevkit/book-of-bdk/tree/master/examples">working code examples</a> of this example in three programming languages: <a href="https://github.com/bitcoindevkit/book-of-bdk/tree/master/examples/rust">Rust</a>, <a href="https://github.com/bitcoindevkit/book-of-bdk/tree/master/examples/swift">Swift</a>, and <a href="https://github.com/bitcoindevkit/book-of-bdk/tree/master/examples/kotlin">Kotlin</a>. (Note: some additional language bindings are available for BDK, see <a href="../../getting-started/3rd-party-bindings/">3rd Party Bindings</a>).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To complete this example from top to bottom, you'll need to create new descriptors and replace the ones provided. Once you do so, you'll run the example twice; on first run the wallet will not have any balance and will exit with an address to send funds to. Once that's done, you can run the example again and the wallet will be able to perform the later steps, namely creating and broadcasting a new transaction.</p>
</div>
<h2 id="create-a-new-project">Create a new project<a class="headerlink" href="#create-a-new-project" title="Permanent link">&para;</a></h2>
<p>=== "Rust"</p>
<div class="language-text highlight"><pre><span></span><code>```shell
cargo init starter-example
cd starter-example
```
</code></pre></div>
<p>=== "Swift"</p>
<div class="language-text highlight"><pre><span></span><code>```shell
swift package init --type executable
```
</code></pre></div>
<p>=== "Kotlin"</p>
<div class="language-text highlight"><pre><span></span><code>```shell
gradle init
```
</code></pre></div>
<h2 id="add-required-dependencies">Add required dependencies<a class="headerlink" href="#add-required-dependencies" title="Permanent link">&para;</a></h2>
<p>=== "Rust"</p>
<div class="language-text highlight"><pre><span></span><code>```toml title=&quot;Cargo.toml&quot;
[package]
name = &quot;starter-example&quot;
version = &quot;0.1.0&quot;
edition = &quot;2021&quot;

[dependencies]
bdk_wallet = { version = &quot;2.2.0&quot;, features = [&quot;rusqlite&quot;] }
bdk_esplora = { version = &quot;0.22.1&quot;, features = [&quot;blocking&quot;] }

```
</code></pre></div>
<p>=== "Swift"</p>
<div class="language-text highlight"><pre><span></span><code>```toml title=&quot;Package.swift&quot;

```
Or, if you&#39;re building an iOS app:

1. From the Xcode File menu, select Add Package Dependencies...
2. Enter `https://github.com/bitcoindevkit/bdk-swift` into the package repository URL search field and bdk-swift should come up
3. For the Dependency Rule select `Exact Version`, enter the version number (same as Package.swift) and click Add Package
</code></pre></div>
<p>=== "Kotlin"</p>
<div class="language-text highlight"><pre><span></span><code>```kotlin title=&quot;build.gradle.kts&quot;
repositories {
    mavenCentral()
}

dependencies {
    // for JVM
    implementation(&quot;org.bitcoindevkit:bdk-jvm:1.1.0&quot;)
    // for Android
    implementation(&quot;org.bitcoindevkit:bdk-android:1.1.0&quot;)
}
```
</code></pre></div>
<h2 id="use-descriptors">Use descriptors<a class="headerlink" href="#use-descriptors" title="Permanent link">&para;</a></h2>
<p>To create a wallet using BDK, we need some <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/descriptors.md" target="_blank">descriptors</a> for our wallet. This example uses public descriptors (meaning they cannot be used to sign transactions) on Signet. Step 7 and below will fail unless you replace those public descriptors with private ones of your own and fund them using Signet coins through a faucet. Refer to the <a href=".././keys-descriptors/descriptors/">Creating Descriptors</a> page for information on how to generate your own private descriptors.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note that if you replace the descriptors after running the example using the provided ones, you must delete or rename the database file or will get an error on wallet load.</p>
</div>
<p>=== "Rust"</p>
<div class="language-text highlight"><pre><span></span><code>```rust
    let descriptor: &amp;str = &quot;tr([12071a7c/86&#39;/1&#39;/0&#39;]tpubDCaLkqfh67Qr7ZuRrUNrCYQ54sMjHfsJ4yQSGb3aBr1yqt3yXpamRBUwnGSnyNnxQYu7rqeBiPfw3mjBcFNX4ky2vhjj9bDrGstkfUbLB9T/0/*)#z3x5097m&quot;;
    let change_descriptor: &amp;str = &quot;tr([12071a7c/86&#39;/1&#39;/0&#39;]tpubDCaLkqfh67Qr7ZuRrUNrCYQ54sMjHfsJ4yQSGb3aBr1yqt3yXpamRBUwnGSnyNnxQYu7rqeBiPfw3mjBcFNX4ky2vhjj9bDrGstkfUbLB9T/1/*)#n9r4jswr&quot;;
```
</code></pre></div>
<p>=== "Swift"</p>
<div class="language-text highlight"><pre><span></span><code>```swift
let descriptor = try Descriptor(descriptor: &quot;tr([12071a7c/86&#39;/1&#39;/0&#39;]tpubDCaLkqfh67Qr7ZuRrUNrCYQ54sMjHfsJ4yQSGb3aBr1yqt3yXpamRBUwnGSnyNnxQYu7rqeBiPfw3mjBcFNX4ky2vhjj9bDrGstkfUbLB9T/0/*)#z3x5097m&quot;, network: Network.signet)
let changeDescriptor = try Descriptor(descriptor: &quot;tr([12071a7c/86&#39;/1&#39;/0&#39;]tpubDCaLkqfh67Qr7ZuRrUNrCYQ54sMjHfsJ4yQSGb3aBr1yqt3yXpamRBUwnGSnyNnxQYu7rqeBiPfw3mjBcFNX4ky2vhjj9bDrGstkfUbLB9T/1/*)#n9r4jswr&quot;, network: Network.signet)
```
</code></pre></div>
<p>=== "Kotlin"</p>
<div class="language-text highlight"><pre><span></span><code>```kotlin
    val descriptor = Descriptor(&quot;tr([12071a7c/86&#39;/1&#39;/0&#39;]tpubDCaLkqfh67Qr7ZuRrUNrCYQ54sMjHfsJ4yQSGb3aBr1yqt3yXpamRBUwnGSnyNnxQYu7rqeBiPfw3mjBcFNX4ky2vhjj9bDrGstkfUbLB9T/0/*)#z3x5097m&quot;, Network.SIGNET)
    val changeDescriptor = Descriptor(&quot;tr([12071a7c/86&#39;/1&#39;/0&#39;]tpubDCaLkqfh67Qr7ZuRrUNrCYQ54sMjHfsJ4yQSGb3aBr1yqt3yXpamRBUwnGSnyNnxQYu7rqeBiPfw3mjBcFNX4ky2vhjj9bDrGstkfUbLB9T/1/*)#n9r4jswr&quot;, Network.SIGNET)
```
</code></pre></div>
<p>These are taproot descriptors (<code>tr()</code>) using public keys on Signet (<code>tpub</code>) as described in <a href="https://github.com/bitcoin/bips/blob/master/bip-0086.mediawiki" target="_blank">BIP86</a>. The first descriptor is an HD wallet with a path for generating addresses to give out externally for payments. The second one is used by the wallet to generate addresses to pay ourselves change when sending payments (remember that <a href="https://github.com/bitcoinbook/bitcoinbook/blob/develop/ch06_transactions.adoc#outpoint" target="_blank">UTXOs</a> must be spent in full, so you often need to make change).</p>
<h2 id="create-or-load-a-wallet">Create or load a wallet<a class="headerlink" href="#create-or-load-a-wallet" title="Permanent link">&para;</a></h2>
<p>Next let's load up our wallet.</p>
<p>=== "Rust"</p>
<div class="language-text highlight"><pre><span></span><code>```rust title=&quot;examples/rust/starter-example/src/main.rs&quot;
    // Initiate the connection to the database
    let mut conn = Connection::open(DB_PATH).expect(&quot;Can&#39;t open database&quot;);

    // Create the wallet
    let wallet_opt = Wallet::load()
        .descriptor(KeychainKind::External, Some(descriptor))
        .descriptor(KeychainKind::Internal, Some(change_descriptor))
        // .extract_keys() // uncomment this line when using private descriptors
        .check_network(Network::Signet)
        .load_wallet(&amp;mut conn)
        .unwrap();

    let mut wallet = if let Some(loaded_wallet) = wallet_opt {
        loaded_wallet
    } else {
        Wallet::create(descriptor, change_descriptor)
            .network(Network::Signet)
            .create_wallet(&amp;mut conn)
            .unwrap()
    };
```
</code></pre></div>
<p>=== "Swift"</p>
<div class="language-text highlight"><pre><span></span><code>```swift
let wallet: Wallet
let connection: Connection

if FileManager.default.fileExists(atPath: dbFilePath.path) {
    print(&quot;Loading up existing wallet&quot;)
    connection = try Connection(path: dbFilePath.path)
    wallet = try Wallet.load(
        descriptor: descriptor,
        changeDescriptor: changeDescriptor,
        connection: connection
    )
} else {
    print(&quot;Creating new wallet&quot;)
    connection = try Connection(path: dbFilePath.path)
    wallet = try Wallet(
        descriptor: descriptor,
        changeDescriptor: changeDescriptor,
        network: Network.signet,
        connection: connection
    )
}
```
</code></pre></div>
<p>=== "Kotlin"</p>
<div class="language-text highlight"><pre><span></span><code>```kotlin title=&quot;examples/kotlin/starter-example/src/.../App.kt&quot;
    val persistenceExists = File(PERSISTENCE_FILE_PATH).exists()
    val connection = Connection(PERSISTENCE_FILE_PATH)

    val wallet = if (persistenceExists) {
        println(&quot;Loading up existing wallet&quot;)
        Wallet.load(
            descriptor = descriptor,
            changeDescriptor = changeDescriptor,
            connection = connection
        )
    } else {
        println(&quot;Creating new wallet&quot;)
        Wallet(
            descriptor = descriptor,
            changeDescriptor = changeDescriptor,
            network = Network.SIGNET,
            connection = connection
        )
    }
```
</code></pre></div>
<h2 id="sync-the-wallet">Sync the wallet<a class="headerlink" href="#sync-the-wallet" title="Permanent link">&para;</a></h2>
<p>Now let's build an Esplora client and use it to request transaction history for the wallet.</p>
<h2 id="test-1">Test 1<a class="headerlink" href="#test-1" title="Permanent link">&para;</a></h2>
<div class="language-rs highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">use</span><span class="w"> </span><span class="n">bdk_wallet</span><span class="p">::{</span><span class="n">AddressInfo</span><span class="p">,</span><span class="w"> </span><span class="n">KeychainKind</span><span class="p">};</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">use</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">process</span><span class="p">::</span><span class="n">exit</span><span class="p">;</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="k">use</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="kt">str</span><span class="p">::</span><span class="n">FromStr</span><span class="p">;</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="k">const</span><span class="w"> </span><span class="n">STOP_GAP</span><span class="p">:</span><span class="w"> </span><span class="kt">usize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="k">const</span><span class="w"> </span><span class="n">PARALLEL_REQUESTS</span><span class="p">:</span><span class="w"> </span><span class="kt">usize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="k">const</span><span class="w"> </span><span class="n">DB_PATH</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="kt">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;starter.sqlite3&quot;</span><span class="p">;</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="cp">#[allow(deprecated)]</span>
</span></code></pre></div>
<h2 id="test-2">Test 2<a class="headerlink" href="#test-2" title="Permanent link">&para;</a></h2>
<div class="language-rs highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="w">    </span><span class="c1">// Sync the wallet</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">client</span><span class="p">:</span><span class="w"> </span><span class="nc">esplora_client</span><span class="p">::</span><span class="n">BlockingClient</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">        </span><span class="n">Builder</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="s">&quot;https://blockstream.info/signet/api/&quot;</span><span class="p">).</span><span class="n">build_blocking</span><span class="p">();</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Syncing wallet...&quot;</span><span class="p">);</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">full_scan_request</span><span class="p">:</span><span class="w"> </span><span class="nc">FullScanRequestBuilder</span><span class="o">&lt;</span><span class="n">KeychainKind</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wallet</span><span class="p">.</span><span class="n">start_full_scan</span><span class="p">();</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">update</span><span class="p">:</span><span class="w"> </span><span class="nc">FullScanResponse</span><span class="o">&lt;</span><span class="n">KeychainKind</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">        </span><span class="p">.</span><span class="n">full_scan</span><span class="p">(</span><span class="n">full_scan_request</span><span class="p">,</span><span class="w"> </span><span class="n">STOP_GAP</span><span class="p">,</span><span class="w"> </span><span class="n">PARALLEL_REQUESTS</span><span class="p">)</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">        </span><span class="p">.</span><span class="n">unwrap</span><span class="p">();</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">    </span><span class="c1">// Apply the update from the full scan to the wallet</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">    </span><span class="n">wallet</span><span class="p">.</span><span class="n">apply_update</span><span class="p">(</span><span class="n">update</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wallet</span><span class="p">.</span><span class="n">balance</span><span class="p">();</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Wallet balance: {} sat&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">balance</span><span class="p">.</span><span class="n">total</span><span class="p">().</span><span class="n">to_sat</span><span class="p">());</span>
</span></code></pre></div>
<p>=== "Rust"</p>
<div class="language-text highlight"><pre><span></span><code>```rust title=&quot;examples/rust/starter-example/src/main.rs&quot;
    // Sync the wallet
    let client: esplora_client::BlockingClient =
        Builder::new(&quot;https://blockstream.info/signet/api/&quot;).build_blocking();

    println!(&quot;Syncing wallet...&quot;);
    let full_scan_request: FullScanRequestBuilder&lt;KeychainKind&gt; = wallet.start_full_scan();
    let update: FullScanResponse&lt;KeychainKind&gt; = client
        .full_scan(full_scan_request, STOP_GAP, PARALLEL_REQUESTS)
        .unwrap();

    // Apply the update from the full scan to the wallet
    wallet.apply_update(update).unwrap();

    let balance = wallet.balance();
    println!(&quot;Wallet balance: {} sat&quot;, balance.total().to_sat());
```
</code></pre></div>
<p>=== "Swift"</p>
<div class="language-text highlight"><pre><span></span><code>```swift
let esploraClient = EsploraClient(url: &quot;https://blockstream.info/signet/api/&quot;)
let fullScanRequest = try wallet.startFullScan().build()
let update = try esploraClient.fullScan(
    request: fullScanRequest,
    stopGap: UInt64(10),
    parallelRequests: UInt64(1)
)
try wallet.applyUpdate(update: update)
let balance = wallet.balance()
print(&quot;Wallet balance: \(balance.total.toSat()) sat&quot;)
```
</code></pre></div>
<p>=== "Kotlin"</p>
<div class="language-text highlight"><pre><span></span><code>```kotlin title=&quot;examples/kotlin/starter-example/src/.../App.kt&quot;
    val esploraClient: EsploraClient = EsploraClient(SIGNET_ESPLORA_URL)
    val fullScanRequest: FullScanRequest = wallet.startFullScan().build()
    val update = esploraClient.fullScan(
        request = fullScanRequest,
        stopGap = 10uL,
        parallelRequests = 1uL
    )
    wallet.applyUpdate(update)
    val balance = wallet.balance().total.toSat()
    println(&quot;Balance: $balance&quot;)
```
</code></pre></div>
<p>In cases where you are using new descriptors that do not have a balance yet, the example will request a new address from the wallet and print it out so you can fund the wallet. Remember that this example uses Signet coins!</p>
<p>=== "Rust"</p>
<div class="language-text highlight"><pre><span></span><code>```rust title=&quot;examples/rust/starter-example/src/main.rs&quot;
    if balance.total().to_sat() &lt; 5000 {
        println!(&quot;Your wallet does not have sufficient balance for the following steps!&quot;);
        // Reveal a new address from your external keychain
        let address: AddressInfo = wallet.reveal_next_address(KeychainKind::External);
        println!(
            &quot;Send Signet coins to {} (address generated at index {})&quot;,
            address.address, address.index
        );
        wallet.persist(&amp;mut conn).expect(&quot;Cannot persist&quot;);
        exit(0)
    }
```
</code></pre></div>
<p>=== "Swift"</p>
<div class="language-text highlight"><pre><span></span><code>```swift
if (balance.total.toSat() &lt; UInt64(5000)) {
    print(&quot;Your wallet does not have sufficient balance for the following steps!&quot;);
    let address = wallet.revealNextAddress(keychain: KeychainKind.external)
    print(&quot;Send Signet coins to address \(address.address) (address generated at index \(address.index))&quot;)
    try wallet.persist(connection: connection)
    exit(0)
}
```
</code></pre></div>
<p>=== "Kotlin"</p>
<div class="language-text highlight"><pre><span></span><code>```kotlin title=&quot;examples/kotlin/starter-example/src/.../App.kt&quot;
    if (balance &lt; 5000uL) {
        println(&quot;Your wallet does not have sufficient balance for the following steps!&quot;);
        val address = wallet.revealNextAddress(KeychainKind.EXTERNAL)
        println(&quot;Send Signet coins to address ${address.address} (address generated at index ${address.index})&quot;)
        wallet.persist(connection)
        exitProcess(0)
    }
```
</code></pre></div>
<h2 id="send-a-transaction">Send a transaction<a class="headerlink" href="#send-a-transaction" title="Permanent link">&para;</a></h2>
<p>For this step you'll need a wallet built with private keys, funded with some Signet satoshis. You can find a faucet <a href="https://signet25.bublina.eu.org/">here</a> to get some coins.</p>
<p>Let's prepare to send a transaction. The two core choices here are where to send the funds and how much to send. We will send funds back to the faucet return address; it's good practice to send test sats back to the faucet when you're done using them.</p>
<p>=== "Rust"</p>
<div class="language-text highlight"><pre><span></span><code>```rust title=&quot;examples/rust/starter-example/src/main.rs&quot;
    // Use a faucet return address
    let faucet_address =
        Address::from_str(&quot;tb1p4tp4l6glyr2gs94neqcpr5gha7344nfyznfkc8szkreflscsdkgqsdent4&quot;)
            .unwrap()
            .require_network(Network::Signet)
            .unwrap();

    let send_amount: Amount = Amount::from_sat(4000);
```
</code></pre></div>
<p>=== "Swift"</p>
<div class="language-text highlight"><pre><span></span><code>```swift
let faucetAddress: Address = try Address(address: &quot;tb1p4tp4l6glyr2gs94neqcpr5gha7344nfyznfkc8szkreflscsdkgqsdent4&quot;, network: Network.signet)
let amount: Amount = Amount.fromSat(fromSat: UInt64(4000))
```
</code></pre></div>
<p>=== "Kotlin"</p>
<div class="language-text highlight"><pre><span></span><code>```kotlin title=&quot;examples/kotlin/starter-example/src/.../App.kt&quot;
    val esploraClient: EsploraClient = EsploraClient(SIGNET_ESPLORA_URL)
    val fullScanRequest: FullScanRequest = wallet.startFullScan().build()
    val update = esploraClient.fullScan(
        request = fullScanRequest,
        stopGap = 10uL,
        parallelRequests = 1uL
    )
    wallet.applyUpdate(update)
    val balance = wallet.balance().total.toSat()
    println(&quot;Balance: $balance&quot;)
```
</code></pre></div>
<p>Here we are sending 5000 sats back to the faucet (make sure the wallet has at least this much balance, or change this value).</p>
<p>Finally we are ready to build, sign, and broadcast the transaction:</p>
<p>=== "Rust"</p>
<div class="language-text highlight"><pre><span></span><code>```rust title=&quot;examples/rust/starter-example/src/main.rs&quot;
    let mut builder = wallet.build_tx();
    builder
        .fee_rate(FeeRate::from_sat_per_vb(4).unwrap())
        .add_recipient(faucet_address.script_pubkey(), send_amount);

    let mut psbt: Psbt = builder.finish().unwrap();

    let finalized = wallet.sign(&amp;mut psbt, SignOptions::default()).unwrap();
    assert!(finalized);

    let tx = psbt.extract_tx().unwrap();
    client.broadcast(&amp;tx).unwrap();
    println!(&quot;Transaction broadcast! Txid: {}&quot;, tx.compute_txid());
```
</code></pre></div>
<p>=== "Swift"</p>
<div class="language-text highlight"><pre><span></span><code>```swift
let psbt: Psbt = try TxBuilder()
    .addRecipient(script: faucetAddress.scriptPubkey(), amount: amount)
    .feeRate(feeRate: try FeeRate.fromSatPerVb(satPerVb: UInt64(7)))
    .finish(wallet: wallet)

try wallet.sign(psbt: psbt)
let tx: Transaction = try psbt.extractTx()
esploraClient.broadcast(tx)
print(&quot;Transaction broadcast successfully! Txid: \(tx.computeTxid())&quot;)
```
</code></pre></div>
<p>=== "Kotlin"</p>
<div class="language-text highlight"><pre><span></span><code>```kotlin title=&quot;examples/kotlin/starter-example/src/.../App.kt&quot;
    val psbt: Psbt = TxBuilder()
        .addRecipient(script = faucetAddress.scriptPubkey(), amount = amount)
        .feeRate(FeeRate.fromSatPerVb(7uL))
        .finish(wallet)

    wallet.sign(psbt)
    val tx: Transaction = psbt.extractTx()
    esploraClient.broadcast(tx)
    println(&quot;Transaction broadcast successfully! Txid: ${tx.computeTxid()}&quot;)
```
</code></pre></div>
<p>We can view our transaction on the <a href="https://mempool.space/signet">mempool.space Signet explorer</a>.</p>














                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-circle-arrow-up" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="m16 12-4-4-4 4M12 16V8"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://zensical.org/" target="_blank" rel="noopener">
      Zensical
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      
      <script id="__config" type="application/json">{"annotate":null,"base":"../..","features":["announce.dismiss","content.code.annotate","content.code.copy","content.code.select","content.footnote.tooltips","content.tabs.link","content.tooltips","navigation.indexes","navigation.instant","navigation.instant.prefetch","navigation.path","navigation.tabs","navigation.top","navigation.tracking","search.highlight"],"search":"../../assets/javascripts/workers/search.e2d2d235.min.js","tags":null,"translations":{"clipboard.copied":"Copied to clipboard","clipboard.copy":"Copy to clipboard","search.result.more.one":"1 more on this page","search.result.more.other":"# more on this page","search.result.none":"No matching documents","search.result.one":"1 matching document","search.result.other":"# matching documents","search.result.placeholder":"Type to start searching","search.result.term.missing":"Missing","select.version":"Select version"},"version":null}</script>
    
    
      <script src="../../assets/javascripts/bundle.00c35305.min.js"></script>
      
    
  </body>
</html>